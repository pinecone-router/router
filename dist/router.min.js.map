{
  "version": 3,
  "sources": ["../src/route.ts", "../src/utils.ts", "../src/index.ts", "../builds/cdn.js"],
  "sourcesContent": ["import type { Handler } from './types'\n\nclass Route {\n\tparams: { [key: string]: any } = {}\n\tpath: string\n\thandlers: Handler[] = []\n\tconstructor(path: string, options: { [key: string]: any } = {}) {\n\t\tthis.path = path\n\t\tObject.keys(options).forEach((opt) => {\n\t\t\tthis[opt] = options[opt]\n\t\t})\n\t\tif (options.templates) {\n\t\t\tthis.programmaticTemplates = true\n\t\t}\n\t}\n\ttemplates: string[] = []\n\ttemplateTargetId: string = ''\n\tprogrammaticTemplates: boolean = false\n\thandlersDone: boolean = false\n\tpreload: boolean = false\n\tcancelHandlers: boolean\n}\n\nexport default Route\n", "/**\n * taken from preact-router\n * https://github.com/preactjs/preact-router\n * @param url url to segmentize\n * @returns\n */\nfunction segmentize(url: string): string[] {\n\treturn url.replace(/(^\\/+|\\/+$)/g, '').split('/')\n}\n\n/**\n * check if a path match with this route\n * taken from preact-router\n * https://github.com/preactjs/preact-router\n * @param path {string}\n * @param routePath {string}\n * @returns {false|object}\n */\nexport function match(url: string, routePath: string): false | object {\n\tlet reg = /(?:\\?([^#]*))?(#.*)?$/,\n\t\tc = url.match(reg),\n\t\tmatches: any = {},\n\t\tret\n\tif (c && c[1]) {\n\t\tlet p = c[1].split('&')\n\t\tfor (let i = 0; i < p.length; i++) {\n\t\t\tlet r = p[i].split('=')\n\t\t\tmatches[decodeURIComponent(r[0])] = decodeURIComponent(\n\t\t\t\tr.slice(1).join('='),\n\t\t\t)\n\t\t}\n\t}\n\tlet urlSeg = segmentize(url.replace(reg, '')),\n\t\troute: string[] = segmentize(routePath || ''),\n\t\tmax = Math.max(urlSeg.length, route.length)\n\tfor (let i = 0; i < max; i++) {\n\t\tif (route[i] && route[i].charAt(0) === ':') {\n\t\t\tlet param: string = route[i].replace(/(^:|[+*?]+$)/g, ''),\n\t\t\t\tflags: string = (route[i].match(/[+*?]+$/) || {}).toString()[0],\n\t\t\t\tplus = ~flags.indexOf('+'),\n\t\t\t\tstar = ~flags.indexOf('*'),\n\t\t\t\tval = urlSeg[i] || ''\n\t\t\tif (!val && !star && (flags.indexOf('?') < 0 || plus)) {\n\t\t\t\tret = false\n\t\t\t\tbreak\n\t\t\t}\n\t\t\tmatches[param] = decodeURIComponent(val)\n\t\t\tif (plus || star) {\n\t\t\t\tmatches[param] = urlSeg\n\t\t\t\t\t.slice(i)\n\t\t\t\t\t.map(decodeURIComponent)\n\t\t\t\t\t.join('/')\n\t\t\t\tbreak\n\t\t\t}\n\t\t} else if (route[i] !== urlSeg[i]) {\n\t\t\tret = false\n\t\t\tbreak\n\t\t}\n\t}\n\tif (ret === false) return false\n\treturn matches\n}\n\n/**\n * Call a function on all middlewares loaded, if any.\n * @param {string} func middleware function to call.\n * @param {any} args arguments to pass to the function.\n * @returns {boolean} false if the middleware function return false, i.e. it want to stop execution of the function and return.\n */\nexport function middleware(func: string, ...args: any): string | undefined {\n\tif (!window.PineconeRouterMiddlewares) return\n\tfor (const i in window.PineconeRouterMiddlewares) {\n\t\tlet plugin: any = window.PineconeRouterMiddlewares[i]\n\t\tif (plugin[func] == null) return\n\t\tlet ret = plugin[func](...args)\n\t\t// the return of the function will only be 'stop'\n\t\t// if the middleware request stopping the navigate function.\n\t\tif (ret == 'stop') return 'stop'\n\t}\n}\n", "import Route from './route'\nimport type { Settings, Context, Middleware, Handler } from './types'\nimport { match, middleware } from './utils'\n\ndeclare global {\n\tinterface Window {\n\t\tPineconeRouter: {\n\t\t\tversion: string\n\t\t\tname: string\n\t\t\tsettings: Settings\n\t\t\tnotfound: Route\n\t\t\troutes: Route[]\n\t\t\tcontext: Context\n\t\t\tloadStart: Event\n\t\t\tloadEnd: Event\n\t\t\tadd: (path: string, options?: {}) => number\n\t\t\tremove: (path: string) => void\n\t\t}\n\t\tPineconeRouterMiddlewares: Array<Middleware>\n\t}\n\tinterface HTMLTemplateElement {\n\t\t_x_PineconeRouter_undoTemplate: Function\n\t\t_x_PineconeRouter_CurrentTemplate: Element\n\t\t_x_PineconeRouter_CurrentTemplateUrls: string[]\n\t\t_x_PineconeRouter_route: string\n\t\t_x_PineconeRouter_CurrentTemplateScript: HTMLScriptElement\n\t}\n}\n\ndeclare module 'alpinejs' {\n\tinterface Alpine {\n\t\t$router: Context\n\t}\n\tinterface Magics<T> {\n\t\t$router: Context\n\t}\n}\n\nexport default function (Alpine) {\n\tconst PineconeRouter = Alpine.reactive(<Window['PineconeRouter']>{\n\t\tversion: '6.2.4',\n\t\tname: 'pinecone-router',\n\n\t\tsettings: <Settings>{\n\t\t\thash: false,\n\t\t\tbasePath: '/',\n\t\t\ttemplateTargetId: null,\n\t\t\tinterceptLinks: true,\n\t\t\talwaysSendLoadingEvents: false,\n\t\t},\n\n\t\t/**\n\t\t * @description The handler for 404 pages, can be overwritten by a notfound route\n\t\t */\n\t\tnotfound: new Route('notfound'),\n\n\t\t/**\n\t\t * @type Route[]\n\t\t * @summary array of routes instantiated from the Route class.\n\t\t */\n\t\troutes: <Route[]>[],\n\t\tglobalHandlers: <Handler[]>[],\n\n\t\t/**\n\t\t * @type {Context}\n\t\t * @summary The context object for current path.\n\t\t */\n\t\tcontext: <Context>{\n\t\t\troute: '',\n\t\t\tpath: '',\n\t\t\tparams: {},\n\t\t\tquery: window.location.search.substring(1),\n\t\t\thash: window.location.hash.substring(1),\n\t\t\tnavigationStack: [],\n\t\t\tnavigationIndex: 0,\n\t\t\tredirect(path) {\n\t\t\t\tthis.navigate(path)\n\t\t\t\treturn 'stop'\n\t\t\t},\n\t\t\tnavigate(path) {\n\t\t\t\tnavigate(path, false, false, null)\n\t\t\t},\n\t\t\tcanGoBack() {\n\t\t\t\treturn this.navigationIndex > 0\n\t\t\t},\n\t\t\tback() {\n\t\t\t\tnavigate(\n\t\t\t\t\tthis.navigationStack[this.navigationIndex - 1],\n\t\t\t\t\tfalse,\n\t\t\t\t\tfalse,\n\t\t\t\t\tthis.navigationIndex - 1,\n\t\t\t\t)\n\t\t\t},\n\t\t\tcanGoForward() {\n\t\t\t\treturn this.navigationIndex < this.navigationStack.length - 1\n\t\t\t},\n\t\t\tforward() {\n\t\t\t\tnavigate(\n\t\t\t\t\tthis.navigationStack[this.navigationIndex + 1],\n\t\t\t\t\tfalse,\n\t\t\t\t\tfalse,\n\t\t\t\t\tthis.navigationIndex + 1,\n\t\t\t\t)\n\t\t\t},\n\t\t},\n\t\tendEventDispatched: false,\n\t\tstartEventDispatched: false,\n\t\t/**\n\t\t * Add a new route\n\t\t */\n\t\tadd(path: string, options?: { [key: string]: any }) {\n\t\t\t// check if the route was registered on the same router.\n\t\t\tif (this.routes.find((r: Route) => r.path == path) != null) {\n\t\t\t\tthrow new Error('Pinecone Router: route already exist')\n\t\t\t}\n\t\t\tif (options?.templates && options?.preload) {\n\t\t\t\tloadAll(null, options.templates, true)\n\t\t\t}\n\t\t\treturn this.routes.push(new Route(path, options)) - 1\n\t\t},\n\t\t/**\n\t\t * Remove a route\n\t\t */\n\t\tremove(path: string) {\n\t\t\tthis.routes = this.routes.filter((r: Route) => r.path != path)\n\t\t},\n\t\t/**\n\t\t * @event pinecone-start\n\t\t * @summary be dispatched to the window after before page start loading.\n\t\t */\n\t\tloadStart: new Event('pinecone-start'),\n\n\t\t/**\n\t\t * @event pinecone-end\n\t\t * @summary will be dispatched to the window after the views are fetched\n\t\t */\n\t\tloadEnd: new Event('pinecone-end'),\n\t})\n\n\twindow.PineconeRouter = PineconeRouter\n\n\tvar loadingTemplates: { [key: string]: Promise<string> } = {}\n\tvar cachedTemplates: { [key: string]: string } = {}\n\tconst inMakeProgress = new Set()\n\n\tconst make = (\n\t\tel: HTMLTemplateElement,\n\t\texpression: string,\n\t\ttemplateUrls: string[],\n\t\ttargetEl?: HTMLElement,\n\t) => {\n\t\tif (inMakeProgress.has(expression)) return\n\t\tinMakeProgress.add(expression)\n\n\t\tconst contentNode = el.content.firstElementChild as HTMLElement\n\t\tconst scriptNode = el.content.children[1] as HTMLElement\n\n\t\tif (!contentNode) return\n\n\t\tconst clone = contentNode.cloneNode(true) as HTMLElement\n\n\t\tAlpine.addScopeToNode(contentNode, {}, el)\n\n\t\tAlpine.mutateDom(() => {\n\t\t\tif (targetEl != null) {\n\t\t\t\ttargetEl.replaceChildren(clone)\n\t\t\t} else el.after(clone)\n\n\t\t\t// Execute any scripts in the cloned content\n\t\t\tclone.querySelectorAll('script').forEach((oldScript) => {\n\t\t\t\tconst newScript = document.createElement('script')\n\n\t\t\t\t// Copy attributes and content in one loop\n\t\t\t\tArray.from(oldScript.attributes).forEach((attr) =>\n\t\t\t\t\tnewScript.setAttribute(attr.name, attr.value),\n\t\t\t\t)\n\t\t\t\tnewScript.textContent = oldScript.textContent\n\n\t\t\t\t// Replace and track\n\t\t\t\toldScript.parentNode.replaceChild(newScript, oldScript)\n\t\t\t})\n\n\t\t\t// Handle the second child if it's a script tag\n\t\t\tif (scriptNode?.tagName?.toLowerCase() === 'script') {\n\t\t\t\tconst newScript = document.createElement('script')\n\n\t\t\t\t// Copy attributes and content\n\t\t\t\tArray.from(scriptNode.attributes).forEach((attr) =>\n\t\t\t\t\tnewScript.setAttribute(attr.name, attr.value),\n\t\t\t\t)\n\t\t\t\tnewScript.textContent = scriptNode.textContent\n\n\t\t\t\t// Add to document and track\n\t\t\t\tdocument.body.appendChild(newScript)\n\t\t\t\tel._x_PineconeRouter_CurrentTemplateScript = newScript\n\t\t\t}\n\n\t\t\tAlpine.initTree(clone)\n\t\t})\n\n\t\tel._x_PineconeRouter_CurrentTemplate = clone\n\t\tel._x_PineconeRouter_CurrentTemplateUrls = templateUrls\n\n\t\tel._x_PineconeRouter_undoTemplate = () => {\n\t\t\t// Remove clone element\n\t\t\tel._x_PineconeRouter_CurrentTemplate?.remove()\n\t\t\t// Remove script\n\t\t\tel._x_PineconeRouter_CurrentTemplateScript?.parentNode?.removeChild(\n\t\t\t\tel._x_PineconeRouter_CurrentTemplateScript,\n\t\t\t)\n\t\t\tdelete el._x_PineconeRouter_CurrentTemplate\n\t\t}\n\n\t\tAlpine.nextTick(() => inMakeProgress.delete(expression))\n\t}\n\n\tconst hide = (el: HTMLTemplateElement) => {\n\t\tif (el._x_PineconeRouter_undoTemplate) {\n\t\t\tel._x_PineconeRouter_undoTemplate()\n\t\t\tdelete el._x_PineconeRouter_undoTemplate\n\t\t}\n\t}\n\n\tconst showAll = (\n\t\tel: HTMLTemplateElement,\n\t\texpression: string,\n\t\turls?: Array<string>,\n\t\ttargetEl?: HTMLElement,\n\t\tinterpolate?: boolean,\n\t) => {\n\t\tif (interpolate) {\n\t\t\turls = urls.map((url) => {\n\t\t\t\t// Replace :param format (e.g., /users/:id/profile)\n\t\t\t\turl = url.replace(/:([^/.]+)/g, (match, paramName) => {\n\t\t\t\t\treturn PineconeRouter.context.params[paramName] || match\n\t\t\t\t})\n\n\t\t\t\treturn url\n\t\t\t})\n\t\t}\n\t\tif (\n\t\t\tel._x_PineconeRouter_CurrentTemplateUrls != undefined &&\n\t\t\tel._x_PineconeRouter_CurrentTemplateUrls != urls\n\t\t) {\n\t\t\thide(el)\n\t\t\tel.content.firstElementChild?.remove()\n\t\t}\n\t\tif (el._x_PineconeRouter_CurrentTemplate) {\n\t\t\treturn el._x_PineconeRouter_CurrentTemplate\n\t\t}\n\t\tif (el.content.firstElementChild) {\n\t\t\tmake(el, expression, urls, targetEl)\n\t\t\tif (PineconeRouter.startEventDispatched) endLoading()\n\t\t} else if (urls) {\n\t\t\t// this occurs when the params change in the same route when using interpolated template urls\n\t\t\tif (urls.every((url) => cachedTemplates[url])) {\n\t\t\t\tif (urls.length > 1) el.innerHTML = '<templates-wrapper>'\n\t\t\t\turls.forEach((url) => {\n\t\t\t\t\tel.innerHTML += cachedTemplates[url]\n\t\t\t\t})\n\t\t\t\tif (urls.length > 1) el.innerHTML = '</templates-wrapper>'\n\t\t\t\tmake(el, expression, urls, targetEl)\n\t\t\t\tendLoading()\n\t\t\t} else {\n\t\t\t\t// This second case is that it didn't finish loading\n\t\t\t\tloadAll(el, urls)\n\t\t\t\t\t.then(() => make(el, expression, urls, targetEl))\n\t\t\t\t\t.finally(() => endLoading())\n\t\t\t}\n\t\t}\n\t}\n\n\tconst loadAll = (\n\t\tel: HTMLTemplateElement | HTMLElement,\n\t\turls: string[],\n\t\tprogrammaticTemplates: boolean = false,\n\t): Promise<string> => {\n\t\tconst loadPromises = urls.map((url) => {\n\t\t\tif (loadingTemplates[url]) {\n\t\t\t\treturn loadingTemplates[url]\n\t\t\t} else if (cachedTemplates[url]) {\n\t\t\t\t// return new promise that returns cachedTemplates[url]:\n\t\t\t\treturn new Promise((resolve) => {\n\t\t\t\t\tresolve(cachedTemplates[url])\n\t\t\t\t}) as Promise<string>\n\t\t\t\t// return cachedTemplates[url]\n\t\t\t} else {\n\t\t\t\tloadingTemplates[url] = fetch(url)\n\t\t\t\t\t.then((r) => {\n\t\t\t\t\t\tif (!r.ok) {\n\t\t\t\t\t\t\tfetchError(r.statusText)\n\t\t\t\t\t\t\treturn null\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn r.text()\n\t\t\t\t\t})\n\t\t\t\t\t.then((html) => {\n\t\t\t\t\t\tif (html == null) {\n\t\t\t\t\t\t\tcachedTemplates[url] = null\n\t\t\t\t\t\t\tloadingTemplates[url] = null\n\t\t\t\t\t\t\treturn null\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcachedTemplates[url] = html\n\t\t\t\t\t\tloadingTemplates[url] = null\n\t\t\t\t\t\treturn html\n\t\t\t\t\t})\n\t\t\t\treturn loadingTemplates[url]\n\t\t\t}\n\t\t})\n\n\t\treturn Promise.all(loadPromises).then((htmlArray) => {\n\t\t\t// if el was not passed, means it was just preloading programmatic templates\n\t\t\tconst combinedHtml = htmlArray.filter((html) => html !== null).join('')\n\t\t\tif (!el) return combinedHtml\n\t\t\t// don't add the wrapper on programmatically added templates\n\t\t\t// since it doesn't use the <template> method it is not needed\n\t\t\tif (urls.length > 1 && !programmaticTemplates)\n\t\t\t\tel.innerHTML =\n\t\t\t\t\t'<templates-wrapper>' + combinedHtml + '</templates-wrapper>'\n\t\t\telse el.innerHTML = combinedHtml\n\t\t\treturn el.innerHTML\n\t\t})\n\t}\n\n\tconst startLoading = () => {\n\t\tif (!PineconeRouter.startEventDispatched)\n\t\t\tdocument.dispatchEvent(PineconeRouter.loadStart)\n\t\tPineconeRouter.startEventDispatched = true\n\t}\n\n\tconst endLoading = () => {\n\t\tif (!PineconeRouter.endEventDispatched)\n\t\t\tdocument.dispatchEvent(PineconeRouter.loadEnd)\n\t\tPineconeRouter.endEventDispatched = true\n\t}\n\n\tfunction fetchError(error: string) {\n\t\tdocument.dispatchEvent(new CustomEvent('fetch-error', { detail: error }))\n\t}\n\n\tconst addBasePath = (path) => {\n\t\tif (\n\t\t\t!PineconeRouter.settings.hash &&\n\t\t\tPineconeRouter.settings.basePath != '/'\n\t\t) {\n\t\t\treturn PineconeRouter.settings.basePath + path\n\t\t}\n\t\treturn path\n\t}\n\n\tconst findRouteIndex = (path) => {\n\t\treturn PineconeRouter.routes.findIndex((r) => r.path == path)\n\t}\n\n\tAlpine.directive(\n\t\t'template',\n\t\t(\n\t\t\tel: HTMLTemplateElement,\n\t\t\t{ modifiers, expression },\n\t\t\t{ Alpine, effect, evaluate, cleanup },\n\t\t) => {\n\t\t\tif (!el._x_PineconeRouter_route)\n\t\t\t\tthrow new Error(\n\t\t\t\t\t'Pinecone Router: x-template must be used on the same element as x-route.',\n\t\t\t\t)\n\n\t\t\tif (el.content.firstElementChild != null)\n\t\t\t\tthrow new Error(\n\t\t\t\t\t'Pinecone Router: x-template cannot be used alongside an inline template (template element should not have a child).',\n\t\t\t\t)\n\n\t\t\tif (\n\t\t\t\t!(expression.startsWith('[') && expression.endsWith(']')) &&\n\t\t\t\t!(expression.startsWith('Array(') && expression.endsWith(')'))\n\t\t\t) {\n\t\t\t\texpression = `['${expression}']`\n\t\t\t}\n\n\t\t\tlet evaluatedExpression = evaluate(expression)\n\n\t\t\tlet urls: string[]\n\n\t\t\tif (typeof evaluatedExpression == 'object') urls = evaluatedExpression\n\t\t\telse {\n\t\t\t\tthrow new Error(\n\t\t\t\t\t`Pinecone Router: Invalid template type: ${typeof evaluatedExpression}.`,\n\t\t\t\t)\n\t\t\t}\n\n\t\t\tlet target =\n\t\t\t\tmodifierValue(modifiers, 'target', null) ??\n\t\t\t\twindow.PineconeRouter.settings.templateTargetId\n\t\t\tlet targetEl = document.getElementById(target)\n\n\t\t\tif (target && !targetEl)\n\t\t\t\tthrow new Error(\n\t\t\t\t\t\"Pinecone Router: Can't find an element with the suplied target ID: \" +\n\t\t\t\t\t\ttarget +\n\t\t\t\t\t\t'',\n\t\t\t\t)\n\n\t\t\tif (modifiers.includes('preload')) {\n\t\t\t\tif (modifiers.includes('interpolate'))\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\"Pinecone Router: Can't use the 'interpolate' modifier with the 'preload' modifier.\",\n\t\t\t\t\t)\n\t\t\t\tloadAll(el, urls, false)\n\t\t\t}\n\n\t\t\t// add template to the route\n\t\t\tlet path = el._x_PineconeRouter_route\n\t\t\tlet route =\n\t\t\t\tpath == 'notfound'\n\t\t\t\t\t? PineconeRouter.notfound\n\t\t\t\t\t: PineconeRouter.routes[findRouteIndex(path)]\n\t\t\troute.templates = urls\n\n\t\t\tAlpine.nextTick(() => {\n\t\t\t\teffect(() => {\n\t\t\t\t\tlet found =\n\t\t\t\t\t\troute.handlersDone && PineconeRouter.context.route == route.path\n\t\t\t\t\tfound\n\t\t\t\t\t\t? showAll(\n\t\t\t\t\t\t\t\tel,\n\t\t\t\t\t\t\t\texpression,\n\t\t\t\t\t\t\t\turls,\n\t\t\t\t\t\t\t\ttargetEl,\n\t\t\t\t\t\t\t\tmodifiers.includes('interpolate'),\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t: hide(el)\n\t\t\t\t})\n\t\t\t})\n\n\t\t\tcleanup(() => {\n\t\t\t\tel._x_PineconeRouter_undoTemplate && el._x_PineconeRouter_undoTemplate()\n\t\t\t})\n\t\t},\n\t)\n\n\tAlpine.directive(\n\t\t'handler',\n\t\t(el, { expression, modifiers }, { evaluate, cleanup }) => {\n\t\t\tif (!modifiers.includes('global') && !el._x_PineconeRouter_route) {\n\t\t\t\tthrow new Error(\n\t\t\t\t\t`Pinecone Router: x-handler must be set on the same element as x-route, or on the router element with the modifier .global.`,\n\t\t\t\t)\n\t\t\t}\n\n\t\t\tlet handlers\n\n\t\t\t// check if the handlers expression is an array\n\t\t\t// if not make it one\n\t\t\tif (\n\t\t\t\t!(expression.startsWith('[') && expression.endsWith(']')) &&\n\t\t\t\t!(expression.startsWith('Array(') && expression.endsWith(')'))\n\t\t\t) {\n\t\t\t\texpression = `[${expression}]`\n\t\t\t}\n\n\t\t\tlet evaluatedExpression = evaluate(expression)\n\n\t\t\tif (typeof evaluatedExpression == 'object') handlers = evaluatedExpression\n\t\t\telse {\n\t\t\t\tthrow new Error(\n\t\t\t\t\t`Pinecone Router: Invalid handler type: ${typeof evaluatedExpression}.`,\n\t\t\t\t)\n\t\t\t}\n\n\t\t\t// add `this` context for handlers inside an Alpine.component\n\t\t\tfor (let index = 0; index < handlers.length; index++) {\n\t\t\t\thandlers[index] = handlers[index].bind(Alpine.$data(el))\n\t\t\t}\n\n\t\t\tlet route\n\n\t\t\tif (modifiers.includes('global')) {\n\t\t\t\tPineconeRouter.globalHandlers = handlers\n\t\t\t} else {\n\t\t\t\t// add handlers to the route\n\t\t\t\tlet path = el._x_PineconeRouter_route\n\t\t\t\troute =\n\t\t\t\t\tpath == 'notfound'\n\t\t\t\t\t\t? PineconeRouter.notfound\n\t\t\t\t\t\t: PineconeRouter.routes[findRouteIndex(path)]\n\t\t\t\troute.handlers = handlers\n\t\t\t}\n\n\t\t\tcleanup(() => {\n\t\t\t\tif (modifiers.includes('global')) {\n\t\t\t\t\tPineconeRouter.globalHandlers = []\n\t\t\t\t} else {\n\t\t\t\t\troute.handlers = []\n\t\t\t\t\troute.handlersDone = true\n\t\t\t\t\troute.cancelHandlers = false\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t).before('template')\n\n\tAlpine.directive(\n\t\t'route',\n\t\t(\n\t\t\tel: HTMLTemplateElement,\n\t\t\t{ expression, modifiers },\n\t\t\t{ effect, cleanup },\n\t\t) => {\n\t\t\tlet path = expression\n\n\t\t\tmiddleware('onBeforeRouteProcessed', el, path)\n\n\t\t\tif (path.indexOf('#') > -1) {\n\t\t\t\tthrow new Error(\n\t\t\t\t\t`Pinecone Router: A route's path may not have a hash character.`,\n\t\t\t\t)\n\t\t\t}\n\n\t\t\tlet target =\n\t\t\t\tmodifierValue(modifiers, 'target', null) ??\n\t\t\t\twindow.PineconeRouter.settings.templateTargetId\n\t\t\tlet targetEl = document.getElementById(target)\n\t\t\tif (target && !targetEl)\n\t\t\t\tthrow new Error(\n\t\t\t\t\t\"Pinecone Router: Can't find an element with the suplied target ID: \" +\n\t\t\t\t\t\ttarget +\n\t\t\t\t\t\t'',\n\t\t\t\t)\n\n\t\t\tlet routeIndex = null\n\n\t\t\tif (path != 'notfound') {\n\t\t\t\t// if specified add the basePath\n\t\t\t\tpath = addBasePath(path)\n\t\t\t\t// register the new route if possible\n\t\t\t\trouteIndex = PineconeRouter.add(path)\n\t\t\t}\n\n\t\t\tlet route = PineconeRouter.routes[routeIndex] ?? PineconeRouter.notfound\n\n\t\t\t// set the path in the element so it is used by other directives\n\t\t\tel._x_PineconeRouter_route = path\n\n\t\t\tif (el.content.firstElementChild != null) {\n\t\t\t\tAlpine.nextTick(() => {\n\t\t\t\t\teffect(() => {\n\t\t\t\t\t\tlet found =\n\t\t\t\t\t\t\troute.handlersDone && PineconeRouter.context.route == path\n\t\t\t\t\t\tfound ? showAll(el, expression, null, targetEl) : hide(el)\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t}\n\n\t\t\tcleanup(() => {\n\t\t\t\tel._x_PineconeRouter_undoTemplate && el._x_PineconeRouter_undoTemplate()\n\t\t\t\tPineconeRouter.remove(path)\n\t\t\t\tdelete el._x_PineconeRouter_route\n\t\t\t})\n\n\t\t\tmiddleware('onAfterRouteProcessed', el, path)\n\t\t},\n\t).before('handler')\n\n\tAlpine.$router = PineconeRouter.context\n\tAlpine.magic('router', () => PineconeRouter.context)\n\n\tdocument.addEventListener('alpine:initialized', () => {\n\t\tmiddleware('init')\n\t\t// virtually navigate the path on the first page load\n\t\t// this will register the path in history and sets the path variable\n\t\tif (PineconeRouter.settings.hash == false) {\n\t\t\tnavigate(location.pathname + location.search, false, true)\n\t\t} else {\n\t\t\tnavigate(location.hash.substring(1), false, true)\n\t\t}\n\t})\n\n\t// handle navigation events not emitted by links, for example, back button.\n\twindow.addEventListener('popstate', () => {\n\t\tif (PineconeRouter.settings.hash) {\n\t\t\tif (window.location.hash != '') {\n\t\t\t\tnavigate(window.location.hash.substring(1), true)\n\t\t\t}\n\t\t} else {\n\t\t\tnavigate(window.location.pathname, true)\n\t\t}\n\t})\n\n\t// intercept click event in links\n\tinterceptLinks()\n\n\t/**\n\t * @description Add a handler to click events on all valid links\n\t */\n\tfunction interceptLinks() {\n\t\tfunction validateLink(node) {\n\t\t\t// only valid elements\n\t\t\tif (!node || !node.getAttribute) return\n\n\t\t\tlet href = node.getAttribute('href'),\n\t\t\t\ttarget = node.getAttribute('target')\n\n\t\t\t// ignore links with targets and non-path URLs\n\t\t\tif (\n\t\t\t\t!href ||\n\t\t\t\t!href.match(/^\\//g) ||\n\t\t\t\t(target && !target.match(/^_?self$/i))\n\t\t\t)\n\t\t\t\treturn\n\n\t\t\tif (typeof href !== 'string' && href.url) {\n\t\t\t\thref = href.url\n\t\t\t}\n\t\t\treturn href\n\t\t}\n\t\twindow.document.body.addEventListener('click', function (e: any) {\n\t\t\tif (\n\t\t\t\te.ctrlKey ||\n\t\t\t\te.metaKey ||\n\t\t\t\te.altKey ||\n\t\t\t\te.shiftKey ||\n\t\t\t\te.button ||\n\t\t\t\te.defaultPrevented\n\t\t\t)\n\t\t\t\treturn\n\n\t\t\tlet currentRoute =\n\t\t\t\tPineconeRouter.routes[findRouteIndex(PineconeRouter.context.route)] ??\n\t\t\t\tPineconeRouter.notfound\n\n\t\t\t// stop handlers in progress before navigating to the next page\n\t\t\tif (!currentRoute.handlersDone) {\n\t\t\t\tcurrentRoute.cancelHandlers = true\n\t\t\t\tendLoading()\n\t\t\t}\n\n\t\t\tlet node = e.target\n\n\t\t\tdo {\n\t\t\t\tif (node.localName === 'a' && node.getAttribute('href')) {\n\t\t\t\t\tif (\n\t\t\t\t\t\twindow.PineconeRouter.settings.interceptLinks == false &&\n\t\t\t\t\t\t!node.hasAttribute('x-link')\n\t\t\t\t\t)\n\t\t\t\t\t\treturn\n\t\t\t\t\tif (node.hasAttribute('data-native') || node.hasAttribute('native'))\n\t\t\t\t\t\treturn\n\t\t\t\t\tlet href = validateLink(node)\n\t\t\t\t\tif (href) {\n\t\t\t\t\t\tnavigate(href)\n\t\t\t\t\t\tif (e.stopImmediatePropagation) e.stopImmediatePropagation()\n\t\t\t\t\t\tif (e.stopPropagation) e.stopPropagation()\n\t\t\t\t\t\te.preventDefault()\n\t\t\t\t\t}\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t} while ((node = node.parentNode))\n\t\t})\n\t}\n\n\t/**\n\t *  Go to the specified path without reloading\n\t * @param {string} path the path with no hash even if using hash routing\n\t * @param {boolean} fromPopState this will be set to true if called from window.onpopstate event\n\t * @param {boolean} firstLoad this will be set to true if this is the first page loaded, also from page reload\n\t * @param {number} navigationIndex the index of the navigation stack to go to\n\t */\n\tasync function navigate(\n\t\tpath,\n\t\tfromPopState = false,\n\t\tfirstLoad = false,\n\t\tnavigationIndex = null,\n\t) {\n\t\tPineconeRouter.startEventDispatched = false\n\t\tPineconeRouter.endEventDispatched = false\n\n\t\tif (!path) path = '/'\n\n\t\t// only add basePath if it was set\n\t\t// if not using hash routing\n\t\t// and if it wasn't added already\n\t\tif (!PineconeRouter.settings.hash) {\n\t\t\tif (\n\t\t\t\tPineconeRouter.settings.basePath != '/' &&\n\t\t\t\t!path.startsWith(PineconeRouter.settings.basePath)\n\t\t\t) {\n\t\t\t\tpath = PineconeRouter.settings.basePath + path\n\t\t\t}\n\t\t\tif (path == PineconeRouter.settings.basePath && !path.endsWith('/')) {\n\t\t\t\tpath += '/'\n\t\t\t}\n\t\t}\n\n\t\t// if called from $router.back() or .front(), do not add the path to the stack\n\t\t// but change the index accordingly\n\t\tif (navigationIndex != null) {\n\t\t\tPineconeRouter.context.navigationIndex = navigationIndex\n\t\t} else if (path != PineconeRouter.context.path) {\n\t\t\t// the above check makes sure soft-reloading doesnt add to the stack duplicate entries\n\n\t\t\t// if navigated after using back(), remove all the elements of the stack from the current index to the end\n\t\t\t// then add the current path at the end of the tack\n\t\t\tif (\n\t\t\t\tPineconeRouter.context.navigationIndex !==\n\t\t\t\tPineconeRouter.context.navigationStack.length - 1\n\t\t\t) {\n\t\t\t\tPineconeRouter.context.navigationStack =\n\t\t\t\t\tPineconeRouter.context.navigationStack.slice(\n\t\t\t\t\t\t0,\n\t\t\t\t\t\tPineconeRouter.context.navigationIndex + 1,\n\t\t\t\t\t)\n\t\t\t\tPineconeRouter.context.navigationStack.push(path)\n\t\t\t\tPineconeRouter.context.navigationIndex =\n\t\t\t\t\tPineconeRouter.context.navigationStack.length - 1\n\t\t\t} else {\n\t\t\t\t// if this is a regular navigation request, add the path to the stack\n\t\t\t\tPineconeRouter.context.navigationStack.push(path)\n\t\t\t\tPineconeRouter.context.navigationIndex =\n\t\t\t\t\tPineconeRouter.context.navigationStack.length - 1\n\t\t\t}\n\t\t}\n\n\t\tconst route: Route =\n\t\t\tPineconeRouter.routes.find((route: Route) => {\n\t\t\t\tlet m = match(path, route.path)\n\t\t\t\troute.params = m != false ? m : {}\n\t\t\t\treturn m != false\n\t\t\t}) ?? PineconeRouter.notfound\n\n\t\t// add global handlers before the route handlers, if any\n\n\t\t// if the route has handlers, it will mark them unhandled\n\t\t// this is so templates wont render till then.\n\t\troute.handlersDone =\n\t\t\t!route.handlers.length && !PineconeRouter.globalHandlers.length\n\n\t\tif (\n\t\t\tPineconeRouter.settings.alwaysSendLoadingEvents ||\n\t\t\t((route.handlers.length ||\n\t\t\t\tPineconeRouter.globalHandlers.length ||\n\t\t\t\troute.templates.length) &&\n\t\t\t\tPineconeRouter.context.path != path)\n\t\t) {\n\t\t\tstartLoading()\n\t\t}\n\n\t\tbuildContext(route.path, path, route.params)\n\n\t\t// the middleware may return 'stop' to stop execution of this function\n\t\tif (\n\t\t\tmiddleware('onBeforeHandlersExecuted', route, path, firstLoad) == 'stop'\n\t\t) {\n\t\t\tendLoading()\n\t\t\treturn\n\t\t}\n\n\t\t// do not call pushstate from popstate event https://stackoverflow.com/a/50830905\n\t\tif (!fromPopState) {\n\t\t\tlet fullPath = ''\n\t\t\tif (PineconeRouter.settings.hash) {\n\t\t\t\tfullPath = '#'\n\n\t\t\t\tfullPath += path\n\t\t\t} else {\n\t\t\t\tfullPath = path\n\t\t\t\tfullPath += window.location.hash\n\t\t\t}\n\t\t\t// don't create duplicate history entry on first page load\n\t\t\tif (!firstLoad) history.pushState({ path: fullPath }, '', fullPath)\n\t\t\telse {\n\t\t\t\tif (PineconeRouter.settings.hash) {\n\t\t\t\t\tif (path == '/') {\n\t\t\t\t\t\treturn navigate('/', false, false)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (\n\t\t\troute &&\n\t\t\t(route.handlers.length || PineconeRouter.globalHandlers.length)\n\t\t) {\n\t\t\troute.cancelHandlers = false\n\t\t\tlet ok = await handle(\n\t\t\t\tPineconeRouter.globalHandlers.concat(route.handlers),\n\t\t\t\tPineconeRouter.context,\n\t\t\t)\n\t\t\tif (!ok) {\n\t\t\t\tendLoading()\n\t\t\t\treturn\n\t\t\t}\n\t\t\troute.handlersDone = true\n\t\t\tif (!route.templates) endLoading()\n\t\t}\n\n\t\t// show templates added programmatically\n\t\tif (route.templates.length && route.programmaticTemplates) {\n\t\t\tlet target = route.templateTargetId\n\t\t\t\t? document.getElementById(route.templateTargetId)\n\t\t\t\t: document.getElementById(PineconeRouter.settings.templateTargetId)\n\t\t\tloadAll(target, route.templates, route.programmaticTemplates).then(() => {\n\t\t\t\tendLoading()\n\t\t\t})\n\t\t}\n\t\t// if PineconeRouter.settings.alwaysSendLoadingEvents is true\n\t\t// and no end event was dispatched, end the loading\n\t\tif (\n\t\t\tPineconeRouter.settings.alwaysSendLoadingEvents &&\n\t\t\t!PineconeRouter.endEventDispatched\n\t\t)\n\t\t\tendLoading()\n\t\tmiddleware('onHandlersExecuted', route, path, firstLoad)\n\t}\n\n\tfunction buildContext(route: string, path: string, params: {}) {\n\t\tPineconeRouter.context.route = route\n\t\tPineconeRouter.context.path = path\n\t\tPineconeRouter.context.params = params\n\t\tPineconeRouter.context.query = window.location.search.substring(1) // query w/out leading '?'\n\t\tPineconeRouter.context.hash = window.location.hash.substring(1) // hash without leading '#'\n\t}\n\n\tfunction modifierValue(modifiers, key, fallback) {\n\t\t// If the modifier isn't present, use the default.\n\t\tif (modifiers.indexOf(key) === -1) return fallback\n\n\t\t// If it IS present, grab the value after it\n\t\tconst rawValue = modifiers[modifiers.indexOf(key) + 1]\n\n\t\tif (!rawValue) return fallback\n\n\t\tif (key === 'target') {\n\t\t\tlet match = rawValue.match(/([a-z0-9_-]+)/)\n\t\t\tif (match) return match[1]\n\t\t}\n\t\treturn rawValue\n\t}\n\t/**\n\t * execute the handlers of routes that are given passing them the context.\n\t */\n\tasync function handle(handlers: Handler[], context: Context) {\n\t\tfor (let i = 0; i < handlers.length; i++) {\n\t\t\tif (typeof handlers[i] == 'function') {\n\t\t\t\t// stop if the handlers were canceled for example the user clicked a link\n\t\t\t\tlet route =\n\t\t\t\t\tPineconeRouter.routes[findRouteIndex(context.route)] ??\n\t\t\t\t\tPineconeRouter.notfound\n\t\t\t\tif (route.cancelHandlers) {\n\t\t\t\t\troute.cancelHandlers = false\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t\tlet result\n\t\t\t\tif (handlers[i].constructor.name === 'AsyncFunction')\n\t\t\t\t\tresult = await handlers[i](context)\n\t\t\t\telse result = handlers[i](context)\n\t\t\t\t// if the handler redirected, return\n\t\t\t\tif (result == 'stop') return false\n\t\t\t}\n\t\t}\n\t\treturn true\n\t}\n}\n", "import magic from '../src/index.js'\n\ndocument.addEventListener('alpine:init', () => {\n  window.Alpine.plugin(magic)\n})\n"],
  "mappings": "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",
  "names": ["Route", "path", "options", "opt", "route_default", "segmentize", "url", "match", "routePath", "reg", "c", "matches", "ret", "p", "i", "r", "urlSeg", "route", "max", "param", "flags", "plus", "star", "val", "middleware", "func", "args", "plugin", "src_default", "Alpine", "PineconeRouter", "route_default", "path", "navigate", "options", "loadAll", "r", "loadingTemplates", "cachedTemplates", "inMakeProgress", "make", "el", "expression", "templateUrls", "targetEl", "contentNode", "scriptNode", "clone", "oldScript", "newScript", "attr", "hide", "showAll", "urls", "interpolate", "url", "match", "paramName", "endLoading", "programmaticTemplates", "loadPromises", "resolve", "fetchError", "html", "htmlArray", "combinedHtml", "startLoading", "error", "addBasePath", "findRouteIndex", "modifiers", "effect", "evaluate", "cleanup", "evaluatedExpression", "target", "modifierValue", "route", "handlers", "index", "middleware", "routeIndex", "interceptLinks", "validateLink", "node", "href", "e", "currentRoute", "fromPopState", "firstLoad", "navigationIndex", "m", "buildContext", "fullPath", "handle", "params", "key", "fallback", "rawValue", "context", "i", "result", "src_default"]
}
